---
title: 'Create Session'
api: 'POST https://api.payviox.com/session'
description: 'Create a new payment session'
authMethod: 'bearer'
---

## Overview

Creates a new payment session for your customer. The session ID can be used to redirect the customer to the payment page or to fetch available payment methods.

<Note>
  Payment sessions expire after 24 hours if no payment is initiated.
</Note>

## Authentication

This endpoint requires API key authentication. See [Authentication](/api/authentication) for details.

```bash
Authorization: Bearer YOUR_API_KEY
```

## Request Body

<ParamField body="amount" type="integer" required>
  The payment amount in cents (e.g., 10000 = $100.00)
  
  **Minimum:** 100 (equivalent to $1.00)
</ParamField>

<ParamField body="currency" type="string" required>
  Three-letter ISO currency code (e.g., USD, EUR, GBP)
  
  **Note:** Currently only USD is supported
</ParamField>

<ParamField body="customer" type="string" required>
  Customer identifier. Can be an email, customer ID, or any unique identifier.
  
  **Example:** `"customer_abc123"` or `"user@example.com"`
</ParamField>

<ParamField body="order_id" type="string" required>
  Your unique order identifier. This will be included in webhooks.
</ParamField>

<ParamField body="items" type="array" required>
  Array of items being purchased
  
  <Expandable title="Item Object">
    <ParamField body="name" type="string" required>
      Name of the item
    </ParamField>
    
    <ParamField body="quantity" type="integer" required>
      Quantity of the item (minimum: 1)
    </ParamField>
    
    <ParamField body="price" type="integer" required>
      Price per unit in cents (minimum: 1)
    </ParamField>
  </Expandable>
</ParamField>

<ParamField body="description" type="string">
  Optional description of the payment
</ParamField>

<ParamField body="paymentMethodId" type="string">
  Force a specific payment method (optional). When provided, only this payment method will be available.
</ParamField>

## Response

<ResponseField name="session_id" type="string">
  Unique identifier for the created session
</ResponseField>

## Example Request

<CodeGroup>

```bash cURL
curl https://api.payviox.com/session \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -X POST \
  -d '{
    "amount": 10000,
    "currency": "USD",
    "customer": "customer_abc123",
    "order_id": "order_12345",
    "description": "Premium subscription",
    "items": [
      {
        "name": "Premium Plan",
        "quantity": 1,
        "price": 10000
      }
    ]
  }'
```

```javascript JavaScript
const response = await fetch('https://api.payviox.com/session', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    amount: 10000,
    currency: 'USD',
    customer: 'customer_abc123',
    order_id: 'order_12345',
    description: 'Premium subscription',
    items: [
      {
        name: 'Premium Plan',
        quantity: 1,
        price: 10000
      }
    ]
  })
});

const data = await response.json();
console.log(data.session_id);
```

```python Python
import requests

url = 'https://api.payviox.com/session'
headers = {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
}

payload = {
    'amount': 10000,
    'currency': 'USD',
    'customer': 'customer_abc123',
    'order_id': 'order_12345',
    'description': 'Premium subscription',
    'items': [
        {
            'name': 'Premium Plan',
            'quantity': 1,
            'price': 10000
        }
    ]
}

response = requests.post(url, headers=headers, json=payload)
data = response.json()
print(data['session_id'])
```

```php PHP
<?php

$apiKey = 'YOUR_API_KEY';
$url = 'https://api.payviox.com/session';

$data = [
    'amount' => 10000,
    'currency' => 'USD',
    'customer' => 'customer_abc123',
    'order_id' => 'order_12345',
    'description' => 'Premium subscription',
    'items' => [
        [
            'name' => 'Premium Plan',
            'quantity' => 1,
            'price' => 10000
        ]
    ]
];

$ch = curl_init($url);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_POST, true);
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));
curl_setopt($ch, CURLOPT_HTTPHEADER, [
    'Authorization: Bearer ' . $apiKey,
    'Content-Type: application/json'
]);

$response = curl_exec($ch);
curl_close($ch);

$result = json_decode($response, true);
echo $result['session_id'];
```

```ruby Ruby
require 'net/http'
require 'json'

uri = URI('https://api.payviox.com/session')
http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true

request = Net::HTTP::Post.new(uri)
request['Authorization'] = 'Bearer YOUR_API_KEY'
request['Content-Type'] = 'application/json'

request.body = {
  amount: 10000,
  currency: 'USD',
  customer: 'customer_abc123',
  order_id: 'order_12345',
  description: 'Premium subscription',
  items: [
    {
      name: 'Premium Plan',
      quantity: 1,
      price: 10000
    }
  ]
}.to_json

response = http.request(request)
result = JSON.parse(response.body)
puts result['session_id']
```

```go Go
package main

import (
    "bytes"
    "encoding/json"
    "fmt"
    "net/http"
)

func main() {
    url := "https://api.payviox.com/session"
    
    payload := map[string]interface{}{
        "amount":   10000,
        "currency": "USD",
        "customer": "customer_abc123",
        "order_id":    "order_12345",
        "description": "Premium subscription",
        "items": []map[string]interface{}{
            {
                "name":     "Premium Plan",
                "quantity": 1,
                "price":    10000,
            },
        },
    }
    
    jsonData, _ := json.Marshal(payload)
    
    req, _ := http.NewRequest("POST", url, bytes.NewBuffer(jsonData))
    req.Header.Set("Authorization", "Bearer YOUR_API_KEY")
    req.Header.Set("Content-Type", "application/json")
    
    client := &http.Client{}
    resp, _ := client.Do(req)
    defer resp.Body.Close()
    
    var result map[string]interface{}
    json.NewDecoder(resp.Body).Decode(&result)
    fmt.Println(result["session_id"])
}
```

</CodeGroup>

## Example Response

<ResponseExample>

```json Success Response (201)
{
  "session_id": "a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6"
}
```

</ResponseExample>

## Error Responses

<ResponseExample>

```json Missing Required Fields (400)
{
  "amount": [
    "The amount field is required."
  ],
  "currency": [
    "The currency field is required."
  ]
}
```

```json Amount Validation Error (400)
{
  "amount": [
    "The total amount does not match the sum of the items (calculated: 15000, received: 10000)"
  ]
}
```

```json Unauthorized (401)
{
  "error": "Unauthorized"
}
```

```json Invalid Payment Method (400)
{
  "error": "Payment method not found"
}
```

</ResponseExample>

## Next Steps

After creating a session:

<CardGroup cols={2}>
  <Card
    title="Redirect Customer"
    icon="arrow-up-right-from-square"
    href="/sdk/integration/redirect"
  >
    Redirect the customer to the payment page using the session ID
  </Card>
  <Card
    title="Get Payment Methods"
    icon="credit-card"
    href="/api/endpoints/get-payment-methods"
  >
    Fetch available payment methods for the session
  </Card>
  <Card
    title="Dashboard"
    icon="chart-line"
    href="https://dashboard.payviox.com"
  >
    Monitor your payments in real-time
  </Card>
  <Card
    title="API Playground"
    icon="flask"
    href="/api/authentication#using-the-api-playground"
  >
    Test API calls directly from your browser
  </Card>
</CardGroup>

## Validation Rules

<AccordionGroup>
  <Accordion title="Amount Validation">
    - Minimum amount: 100 cents ($1.00)
    - Must be a positive integer
    - Total amount must equal the sum of all items (price Ã— quantity)
  </Accordion>

  <Accordion title="Items Validation">
    - At least one item is required
    - Each item must have a name, quantity, and price
    - Quantity must be at least 1
    - Price must be at least 1 cent
  </Accordion>

  <Accordion title="Order ID">
    - Must be unique per business
    - Used for tracking and webhooks
    - Recommended to use your internal order/transaction ID
  </Accordion>
</AccordionGroup>

